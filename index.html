<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>RiskLayerLabs</title>

<style>
body{
font-family:Arial;
background:#0b1220;
color:white;
text-align:center;
padding:40px;
}
.card{
background:#111a2e;
padding:30px;
border-radius:12px;
width:60%;
margin:auto;
}
button{
padding:10px 15px;
background:#00c2ff;
border:none;
border-radius:6px;
font-weight:bold;
cursor:pointer;
}
input{
padding:10px;
width:300px;
}
.logo{
margin-bottom:20px;
}
</style>

</head>

<body>

<div class="card">

<img src="./RiskLayerLabs_Lemon_Logo_512.png" width="80" class="logo">

<h1>RiskLayerLabs</h1>
<p>Visibilidad del riesgo digital</p>

<input id="url" placeholder="https://example.com">
<br><br>

<button onclick="analyze()">Analizar</button>

<h2 id="result"></h2>
<div id="risks"></div>

<br>

<button onclick="downloadPDF()">Descargar Informe Gratis</button>

<br><br>

<a href="https://risklayerlabs.lemonsqueezy.com/checkout/buy/fa60500d-65d7-430a-8a52-9c64b4b49358" target="_blank">
<button>Desbloquear Informe Premium</button>
</a>

</div>

<script>

async function analyze(){

let site = document.getElementById("url").value;

let res = await fetch("https://yellow-field-4bee.antonio-5f5.workers.dev/analyze?url="+site);
let data = await res.json();
  
  data.client = "Cliente";
data.generatedAt = new Date().toISOString();
localStorage.setItem("risklayer_report_data", JSON.stringify(data));


document.getElementById("result").innerHTML =
"Score: "+data.score+" | Nivel: "+data.level;

document.getElementById("risks").innerHTML =
"<br>Riesgos:<br>"+data.risks.join("<br>");

localStorage.setItem("report", JSON.stringify(data));

}

function downloadPDF(){

let cliente = prompt("Nombre del cliente");

let report = JSON.parse(localStorage.getItem("report"));

report.cliente = cliente;

localStorage.setItem("report", JSON.stringify(report));

window.open("report.html");

}

</script>
  
<footer style="margin-top:40px;font-size:12px;color:#aaa;text-align:center;">
Evaluación pasiva basada en configuraciones públicas.
<a href="legal.html">Aviso Legal</a> |
<a href="terminos.html">Términos de Uso</a>
</footer>

</body>
</html>
