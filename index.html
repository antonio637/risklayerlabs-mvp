<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8">
<title>RiskLayerLabs</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">

<style>
body{
font-family:'Inter',sans-serif;
background:#0b1220;
color:white;
text-align:center;
padding:40px;
margin:0;
}
input{
padding:12px;
width:80%;
border-radius:10px;
border:none;
background:#111a2e;
color:white;
}
button{
padding:12px;
margin-top:10px;
border-radius:10px;
border:none;
background:#00c2ff;
font-weight:700;
cursor:pointer;
}
.card{
margin-top:20px;
background:#111a2e;
padding:20px;
border-radius:12px;
display:none;
}
.low{color:#4ade80;}
.medium{color:#facc15;}
.high{color:#f87171;}
</style>

</head>

<body>

<h1>RiskLayerLabs</h1>
<p>Visibilidad del riesgo digital</p>

<input id="url" placeholder="https://example.com">

<br>
<button onclick="analyze()">Analizar</button>

<div id="resultCard" class="card">

<h3>Resultado</h3>

<p id="score"></p>
<p id="level"></p>

<ul id="risks"></ul>

<br>

<button onclick="downloadReport()">Informe Est√°ndar</button>

<br><br>

<a href="https://risklayerlabs.lemonsqueezy.com/checkout/buy/fa60500d-65d7-430a-8a52-9c64b4b49358" target="_blank">
<button>Desbloquear Premium</button>
</a>

</div>

<script>

async function analyze(){

let site = document.getElementById("url").value;

let res = await fetch("https://yellow-field-4bee.antonio-5f5.workers.dev/analyze?url="+site);
let data = await res.json();

data.client = "Cliente";
data.generatedAt = new Date().toISOString();

localStorage.setItem("risklayer_report_data", JSON.stringify(data));

document.getElementById("resultCard").style.display="block";
document.getElementById("score").innerHTML = "Score: " + data.score;
document.getElementById("level").innerHTML = "Nivel: " + data.level;

let risks="";
data.risks.forEach(r => {
risks += "<li>"+r+"</li>";
});

document.getElementById("risks").innerHTML = risks;

}

function downloadReport(){
window.open("report.html?mode=free");
}

</script>

</body>
</html>


